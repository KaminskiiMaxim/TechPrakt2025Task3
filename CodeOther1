using UnityEngine;

namespace Offer.Tool.Cheats
{
    public class OfferCheatType : MonoBehaviour
    {
        [SerializeField] private string OfferTypeField;
        [SerializeField] private OfferProxy OfferProxy;

        public string OptionType { get { return OfferType(); }}
        public OfferProxy Proxy { get { return OfferProxy; }}

        protected virtual string OfferType()
        {
            return OfferTypeField;
        }

        protected virtual void Start()
        {
            AddOption();
        }

        protected virtual void OnEnable()
        {
            AddOption();
        }

        protected virtual void OnDisable()
        {
            RemoveOption();
        }

        protected virtual void OnDestroy()
        {
            RemoveOption();
        }

        protected virtual void AddOption()
        {
            if (OfferManager.Instance.CheatManager != null)
                OfferManager.Instance.CheatManager.AddOptionType(this);
        }

        protected virtual void RemoveOption()
        {
            if (OfferManager.Instance.CheatManager != null)
                OfferManager.Instance.CheatManager.RemoveOptionType(OptionType);
        }
    }
}